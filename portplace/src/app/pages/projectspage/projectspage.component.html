<div class="projects-layout">

  <div class="projects-content">
    <!-- Breadcrumb -->
    <app-breadcrumb></app-breadcrumb>

    <!-- Header -->
    <div class="page-header">
      <h1>Projetos</h1>
      <p>Gerencie os projetos da organização.</p>
    </div>

    <!-- Filters -->
    <div class="filters-section">
      <div class="filters-left">
        <div class="filter-label">
          <app-svg-icon
            class="nav-icon"
            [path]="'assets/icon/filter_vetor.svg'"
            [size]="18">
          </app-svg-icon>
          <span>Filtros:</span>
        </div>
        <div class="filter-buttons">
          <button
            class="filter-btn"
            [class.active]="activeFilter === 'em-analise'"
            (click)="onFilterChange('em-analise')">
            <div class="filter-indicator blue"></div>
            Em análise
          </button>
          <button
            class="filter-btn"
            [class.active]="activeFilter === 'em-andamento'"
            (click)="onFilterChange('em-andamento')">
            <div class="filter-indicator blue"></div>
            Em andamento
          </button>
          <button
            class="filter-btn"
            [class.active]="activeFilter === 'finalizado'"
            (click)="onFilterChange('finalizado')">
            <div class="filter-indicator blue"></div>
            Finalizado
          </button>
          <button
            class="filter-btn"
            [class.active]="activeFilter === 'cancelado'"
            (click)="onFilterChange('cancelado')">
            <div class="filter-indicator blue"></div>
            Cancelado
          </button>
        </div>
      </div>

      <div class="actions-right">
        <button class="btn-primary" (click)="openCreateModal()">
          <i class="icon-plus">+</i>
          Cadastrar
        </button>
        <div class="search-container">

          <app-svg-icon
            class="nav-icon"
            [path]="'assets/icon/search_vetor.svg'"
            [size]="18">
          </app-svg-icon>
          <input
            type="text"
            placeholder="Buscar pelo nome do projeto"
            [(ngModel)]="searchTerm"
            (input)="onSearchChange()">
        </div>
      </div>
    </div>
    <app-table
        [dataRetrievalMethodRef]="this.getDataForTableComponent"
        [filterButtons]="filterButtons"
        [filterText]="filterText"
        [columns]="columns"
        [actionButton]="actionButton"
        (actionButtonClick)="openCreateModal()"
        (mainColumnRowClick)="onProjectClick($event)">
    </app-table>
  </div>

  <!-- Form Modal -->
  <app-form-modal-component
    [isVisible]="showCreateModal"
    [config]="createProjectConfig"
    (close)="closeCreateModal()"
    (save)="onSaveProject($event)"
    (cancel)="closeCreateModal()">
  </app-form-modal-component>
</div>
