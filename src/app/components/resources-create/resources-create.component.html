<div class="modal-overlay" (click)="onOverlayClick($event)">
    <div class="modal-content" (click)="$event.stopPropagation()">
        <!-- Header -->
        <div class="modal-header">
            <h2>Criação de recurso no pool</h2>
            <button class="close-btn" (click)="onCancel()">
                <i class="icon-x">✕</i>
            </button>
        </div>

        <!-- Body -->
        <div class="modal-body">
            <!-- Validation Message -->
            <div *ngIf="errorMessage" class="validation-error">
              <i class="icon-alert-triangle">⚠️</i>
              <span>{{ errorMessage }}</span>
            </div>


            <!-- Form Fields -->
            <div class="form-fields" [ngClass]="{'disabled': isSubmitButtonDisabled}">
              <div class="form-group">
                <label>Nome do recurso<span class="required-asterisk">*</span></label>
                <input type="text" [(ngModel)]="selectedCollaborator" [disabled]="isSubmitButtonDisabled" placeholder="Digite o nome do recurso">
              </div>

              <div class="form-group">
                <label>Descrição</label>
                <textarea [(ngModel)]="description" 
                    style="font-family: inherit; border-radius: 6px; height: 96px;"
                    [disabled]="isSubmitButtonDisabled" 
                    placeholder="Digite a descrição do recurso"></textarea>
              </div>

              <div class="form-group">
                <label>Horas/dia contrato<span class="required-asterisk">*</span></label>
                <div class="custom-select-wrapper">
                    <div class="custom-select" (click)="toggleDropdown()" (keydown)="onCustomSelectKeyDown($event)">
                        {{ selectedHours || 'Selecione...' }}
                    </div>
                    <div class="custom-options" *ngIf="isOpen">
                        <div
                            class="custom-option"
                            *ngFor="let option of hoursOptions"
                            (click)="selectOption(option)">
                            {{ option.name }}
                        </div>
                    </div>
                </div>
              </div>

              <div class="form-group">
                  <label>Cargo<span class="required-asterisk">*</span></label>
                  <select [(ngModel)]="selectedPosition" [disabled]="isSubmitButtonDisabled">
                      <option *ngFor="let option of positionOptions" [ngValue]="option.id">
                          {{ option.name }}
                      </option>
                  </select>
                  <p class="info-text">Somente cargos ativos estão disponíveis para seleção.</p>
              </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="modal-footer">
            <button class="btn-outline" (click)="onCancel()">Cancelar</button>
             <button class="btn-primary" (click)="onSave()" [disabled]="isSubmitButtonDisabled">Salvar</button>
        </div>
    </div>
</div>
